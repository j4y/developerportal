---
title: Data Structures
permalink: /v3/windows/data-structures/
tags: [windows, sdk]
audience: writer, designer
keywords:
last_updated:
summary:
metadata: false
---

## Frame

The `Frame` is used for passing images to and from the detectors. To initialize a new instance of a frame, you must call the frame constructor. The frame constructor requires the width and height of the frame and a pointer to the pixel array representing the image. Additionally, the color format of the incoming image must be supplied. (See below for supported color formats.)

```csharp
Frame(int frameWidth, int frameHeight, ref byte[] pixels, COLOR_FORMAT
frameColorFormat);
```

A timestamp can be optionally set. It is required when passing the frame to the FrameDetector, and is not when using the PhotoDetector. The timestamp is automatically generated by querying the system time when using the CameraDetector, and is decoded from the video file in the case of the VideoDetector.  

```csharp
Frame(int frameWidth, int frameHeight, ref byte[] pixels, COLOR_FORMAT
frameColorFormat, float timestamp);
```

The following color formats are supported by the Frame class:  

```csharp
enum COLOR_FORMAT
{
    RGB,      // 24-bit pixels with Red, Green, Blue pixel ordering
    BGR,      // 24-bit pixels with Blue, Green, Red pixel ordering
    RGBA,     // 32-bit pixels with Red, Green, Blue, Alpha  pixel ordering
    BGRA,     // 24-bit pixels with Blue, Green, Red, Alpha pixel ordering
    YUV_NV21, // 12-bit pixels with YUV information (NV21 encoding)
    YUV_I420  // 12-bit pixels with YUV information (I420 encoding)
};
```

To retrieve the color format used to create the frame, call:  

```csharp
COLOR_FORMAT getColorFormat();
```

To get the Frame image's underlying byte array of pixels, call this method:  

```csharp
byte[] getBGRByteArray();
```

To retrieve the length of the frame's byte array in addition to the image's width and height in pixels, call the following methods:  

```csharp
int getBGRByteArrayLength();
int getWidth();
int getHeight();
```

Client applications have the ability to get and set the Frame's timestamp through the following:  

```csharp
float getTimestamp();
void setTimestamp(float value);
```
***
## Face

The Face class represents a face found with a processed frame. It contains results for detected expressions and emotions and the face and head measurements.  

```csharp
class Face
{
  int id;
  Appearance Appearance;
  Emojis emojis;
  Expressions expressions;
  Measurements measurements;
  FeaturePoint[] featurePoints;   //Array of face feature points associated with the face
}
```

***
## Appearance

`Appearance` is a representation of the [appearance metrics]({{ site.baseurl }}/metrics/#appearance). It describes the presence or absence of glasses on a face, as well as identified gender. Check the metrics page for more information about how the gender value is calculated.

```csharp
class Appearance
{
    Gender gender; //Instance of the Gender enumeration
    Glasses glasses; //Instance of the Glasses enumeration
};

enum Gender { Unknown, Male, Female }   //Possible values for Gender
enum Glasses { No, Yes }  //Possible value for Glasses
```
***
## Emotions

`Emotions` is a representation of the confidence levels of the [emotions]({{ site.baseurl }}/metrics/#emotions) detected. Each value represents a probability from 0 to 100 of the presence of the emotion in the frame analyzed. Valence, a measure of positivity or negativity of the expressions, ranges from -100 to 100:  

```csharp
class Emotions
{
    float Joy;
    float Fear;
    float Disgust;
    float Sadness;
    float Anger;
    float Surprise;
    float Contempt;
    float Valence;
    float Engagement;
};
```
***
## Emojis

`Emoji` is a representation of the confidence levels of [Emoji expressions]({{ site.baseurl }}/metrics/#emoji-expressions) detected. Each value represents a probability from 0 to 100 of the presence of the Emoji expression in the frame analyzed. `dominantEmoji` contains the UNICODE value for the most likely emoji present in the image.

```csharp
class Emojis
{
    Emoji dominantEmoji;  //Most likely Emoji present in the processed image
    float relaxed;
    float smiley;
    float laughing;
    float kissing;
    float disappointed;
    float rage;
    float smirk;
    float wink;
    float stuckOutTongueWinkingEye;
    float stuckOutTongue;
    float flushed;   
    float scream;          
};

enum Emoji { } //An enumeration of the list of emojis supported and their UNICODE value in decimal
```
***
## Expressions

`Expressions` is a representation of the probabilities of the [facial expressions]({{ site.baseurl }}/metrics/#facial-expressions) detected. Each value represents a probability from 0 to 100 of the presence of the expression in the frame analyzed:  

```csharp
class Expressions
{
    float Smile;
    float InnerEyeBrowRaise;
    float BrowRaise;
    float BrowFurrow;
    float NoseWrinkler;
    float UpperLipRaiser;
    float LipCornerDepressor;
    float ChinRaiser;
    float LipPucker;
    float LipPress;
    float LipSuck;
    float MouthOpen;
    float Smirk;
    float EyeClosure;
    float Attention;
};
```
***
## Measurements

`Measurements`is a representation of [the head and face measurements]({{ site.baseurl }}/metrics/#face-tracking-and-head-angle-estimation). The Interocular distance is the defined as the distance between the two outer eye corners in pixels:  

```csharp
class Measurements
{
    Orientation orientation;
    float interoculardistance;
};
```
<img src="../images/graphic3.png" align=right>
***
## Orientation

`Orientation` is a representation of the orientation of the head in a 3-D space using Euler angles (pitch, yaw, roll):

```csharp
class Orientation
{
    float pitch;  // Up|Down head movement
    float yaw;    //Left|Right head movement
    float roll;   //movement on Z axis
};
```
***
## FeaturePoint

`FeaturePoint` is the cartesian coordinates of a facial feature on the source image and is defined as the following:  

```csharp
class FeaturePoint
{
    int id;
    float x;
    float y;
};
```

See the feature point indices [table]({{ site.baseurl }}/fpi/) for a full list of feature points.
